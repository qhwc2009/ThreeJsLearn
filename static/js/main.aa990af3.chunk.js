(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,n){e.exports=n.p+"static/media/2.95277247.jpg"},108:function(e,t,n){e.exports=n(184)},113:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){},177:function(e,t,n){},178:function(e,t,n){},179:function(e,t,n){},180:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),a=n(7),o=n.n(a),s=(n(113),n(54)),c=n(29),u=n(185),l={isWebGLAvailable:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(t){return!1}},isWebGL2Available:function(){try{var e=document.createElement("canvas");return!(!window.WebGL2RenderingContext||!e.getContext("webgl2"))}catch(t){return!1}},getWebGLErrorMessage:function(){return this.getErrorMessage(1)},getWebGL2ErrorMessage:function(){return this.getErrorMessage(2)},getErrorMessage:function(e){var t={1:window.WebGLRenderingContext,2:window.WebGL2RenderingContext},n='Your $0 does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">$1</a>',i=document.createElement("div");return i.id="webglmessage",i.style.fontFamily="monospace",i.style.fontSize="13px",i.style.fontWeight="normal",i.style.textAlign="center",i.style.background="#fff",i.style.color="#000",i.style.padding="1.5em",i.style.width="400px",i.style.margin="5em auto 0",n=(n=t[e]?n.replace("$0","graphics card"):n.replace("$0","browser")).replace("$1",{1:"WebGL",2:"WebGL 2"}[e]),i.innerHTML=n,i}},d=n(186),f=[{key:"1",link:"/",title:"Home"},{key:"2",link:"/Cube",title:"Cube"},{key:"3",link:"/Line",title:"Line"},{key:"4",link:"/AxisHelper",title:"AxisHelper"},{key:"5",link:"/OrthographicCamera",title:"OrthographicCamera"},{key:"6",link:"/PerspectiveCamera",title:"PerspectiveCamera"},{key:"7",link:"/NoLight",title:"NoLight"},{key:"8",link:"/AmbientLight",title:"AmbientLight"},{key:"9",link:"/DirectionalLight",title:"DirectionalLight"},{key:"10",link:"/PointLight",title:"PointLight"},{key:"11",link:"/Texture",title:"Texture"},{key:"12",link:"/LearnGeometry",title:"LearnGeometry"},{key:"13",link:"/GTFLoader",title:"GTFLoader"},{key:"14",link:"/LambertSideLearn",title:"LambertSideLearn"},{key:"15",link:"/Jump",title:"Jump"}];var h=Object(c.d)(function(e){var t=e.location;console.log("location: ",t);var n=Object(i.useMemo)(function(){return"/"===t.pathname?"1":f.slice(1).find(function(e){return-1!==t.pathname.indexOf(e.link)}).key},[t.pathname]);return r.a.createElement(d.b,{theme:"dark",defaultSelectedKeys:[n],mode:"inline",style:{marginTop:"60px",height:"100%",borderRight:0}},f.map(function(e){return r.a.createElement(d.b.Item,{key:e.key},r.a.createElement(s.b,{to:e.link},e.title))}))}),m=n(2);n(175);function p(){var e=Object(i.useRef)(null);return Object(i.useEffect)(function(){var t=e.current.clientWidth,n=e.current.clientHeight,i=new m.xb,r=new m.mb(75,t/n,.1,1e3),a=document.createElement("canvas"),o=a.getContext("webgl2"),s=new m.Rb({canvas:a,context:o});s.setSize(t,n),e.current.appendChild(s.domElement);var c=new m.h(3,2,1),u=new m.V({color:"#457dbd"}),l=new m.U(c,u);i.add(l),r.position.z=5,function e(){requestAnimationFrame(e);l.rotation.x+=.005,l.rotation.y+=.005,s.render(i,r)}()},[]),r.a.createElement("div",{className:"cube",ref:e})}n(176);function b(){var e=Object(i.useRef)(null);return Object(i.useEffect)(function(){var t=document.createElement("canvas"),n=t.getContext("webgl2"),i=new m.Rb({canvas:t,context:n});i.setSize(window.innerWidth,window.innerHeight),e.current.appendChild(i.domElement);var r=new m.mb(45,window.innerWidth/window.innerHeight,1,500);r.position.set(0,0,100),r.lookAt(0,0,0);var a=new m.xb,o=new m.I({color:"#0000ff"}),s=new m.x;s.vertices.push(new m.Nb(-10,0,0)),s.vertices.push(new m.Nb(0,10,0)),s.vertices.push(new m.Nb(10,0,10)),s.vertices.push(new m.Nb(0,10,10)),s.vertices.push(new m.Nb(10,10,0)),s.vertices.push(new m.Nb(0,10,0)),s.vertices.push(new m.Nb(-10,10,0)),s.vertices.push(new m.Nb(-10,0,0));var c=new m.H(s,o);a.add(c),i.render(a,r)},[]),r.a.createElement("div",{ref:e,className:"line"})}var w=n(103),x=n(72);n(177);function g(){var e=Object(i.useRef)(null);return Object(i.useEffect)(function(){var t=new m.xb,n=new m.mb(75,window.innerWidth/window.innerHeight,.1,1e3),i=document.createElement("canvas"),r=i.getContext("webgl2"),a=new m.Rb({canvas:i,context:r});a.setSize(window.innerWidth,window.innerHeight),e.current.appendChild(a.domElement);var o=new m.h(3,2,1),s=new m.V({color:"#457dbd"}),c=new m.U(o,s),u=new m.fb;u.add(c);var l=new m.e(4);u.add(l),t.add(u),n.position.z=5;var d=new w;return d.showPanel(0),document.body.appendChild(d.dom),new x.Tween(n.position).to({x:10},1e4).repeat(1/0).start(),function e(){d.begin();u.rotation.x+=.005,u.rotation.y+=.005,a.render(t,n),x.update(),d.end(),requestAnimationFrame(e)}(),function(){document.body.removeChild(d.dom)}},[]),r.a.createElement("div",{className:"axisHelper",ref:e})}var v=n(9);n(91);function y(){var e=Object(i.useRef)(null),t=Object(i.useRef)(null);return Object(i.useEffect)(function(){var n,i,r;n=e.current.clientWidth,i=e.current.clientHeight;var a,o,s,c=new function(){this.left=-n/2,this.right=n/2,this.top=-i/2,this.bottom=i/2,this.near=10,this.far=1e3,this.x=0,this.y=0,this.z=600};function u(){r.render(a,o),o.left=c.left,o.right=c.right,o.top=c.top,o.bottom=c.bottom,o.near=c.near,o.far=c.far,o.position.set(c.x,c.y,c.z),o.lookAt(new m.Nb(0,0,0)),o.updateProjectionMatrix(),requestAnimationFrame(u)}return e.current&&((r=new m.Rb({antialias:!0})).setSize(n,i),e.current.appendChild(r.domElement),r.setClearColor("#ffffff",1),a=new m.xb,t.current=new v.a,t.current.add(c,"left",-2e3,0).name("\u6444\u50cf\u673a\u89c6\u9525\u4f53\u5de6\u4fa7\u9762"),t.current.add(c,"right",0,2e3).name("\u6444\u50cf\u673a\u89c6\u9525\u4f53\u53f3\u4fa7\u9762"),t.current.add(c,"top",-2e3,0).name("\u6444\u50cf\u673a\u89c6\u9525\u4f53\u4e0a\u4fa7\u9762"),t.current.add(c,"bottom",0,2e3).name("\u6444\u50cf\u673a\u89c6\u9525\u4f53\u4e0b\u4fa7\u9762"),t.current.add(c,"near",0,100).name("\u6444\u50cf\u673a\u89c6\u9525\u4f53\u8fd1\u7aef\u9762").step(.1),t.current.add(c,"far",0,1e4).name("\u6444\u50cf\u673a\u89c6\u9525\u4f53\u8fdc\u7aef\u9762"),t.current.add(c,"x",-500,500).name("\u6444\u50cf\u673ax"),t.current.add(c,"y",-500,500).name("\u6444\u50cf\u673ay"),t.current.add(c,"z",0,5e3).name("\u6444\u50cf\u673az"),(o=new m.lb(c.left,c.right,c.top,c.bottom,c.near,c.far)).position.set(c.x,c.y,c.z),o.up.set(0,1,0),o.lookAt(new m.Nb(0,0,0)),console.log("camera: ",o),(s=new m.p("#ff0000",1,0)).position.set(0,100,-600),a.add(s),function(){var e=new m.n(70,100,200),t=new m.W({color:"#ffffff"}),n=new m.U(e,t);n.position.set(0,0,0),a.add(n),console.log("mesh: ",n)}(),u()),function(){t.current&&t.current.destroy()}},[]),r.a.createElement("div",{ref:e,className:"camera"})}function z(){var e=Object(i.useRef)(null),t=Object(i.useRef)(null);return Object(i.useEffect)(function(){var n,i,r;n=e.current.clientWidth,i=e.current.clientHeight;var a,o,s,c=new function(){this.fov=45,this.x=0,this.y=0,this.z=600};function u(){var e;e=c.fov,o.fov=e,o.position.set(c.x,c.y,c.z),o.lookAt(new m.Nb(0,0,0)),o.updateProjectionMatrix()}function l(){u(),r.render(a,o),requestAnimationFrame(l)}return e.current&&((r=new m.Rb({antialias:!0})).setSize(n,i),e.current.appendChild(r.domElement),r.setClearColor("#ffffff",1),a=new m.xb,(o=new m.mb(45,n/i,1,1e4)).position.set(c.x,c.y,c.z),o.up.set(0,1,0),o.lookAt(new m.Nb(0,0,0)),(s=new m.p("#ff0000",1,0)).position.set(100,100,200),a.add(s),function(){var e=new m.n(70,100,200,20),t=new m.W({color:"#ffffff"}),n=new m.U(e,t);n.position.set(0,0,0),a.add(n),console.log("mesh: ",n)}(),t.current=new v.a,t.current.add(c,"fov",0,180).name("\u89c6\u89d2\u5927\u5c0f"),t.current.add(c,"x",-500,500).name("\u6444\u50cf\u673ax"),t.current.add(c,"y",-500,500).name("\u6444\u50cf\u673ay"),t.current.add(c,"z",0,5e3).name("\u6444\u50cf\u673az"),l()),function(){t.current&&t.current.destroy()}},[]),r.a.createElement("div",{ref:e,className:"camera"})}n(49);function C(){var e=Object(i.useRef)(null);return Object(i.useEffect)(function(){var t,n,i,r,a,o=function(){n=e.current.clientWidth,i=e.current.clientHeight,(t=new m.Rb({antialias:!0})).setSize(n,i),e.current.appendChild(t.domElement),t.setClearColor("#ffffff",1)},s=function(){r=new m.xb},c=function(){(a=new m.mb(45,n/i,1,1e4)).position.set(600,0,600),a.up.set(0,1,0),a.lookAt(new m.Nb(0,0,0))},u=function(){},l=function(){var e=new m.h(200,100,50),t=new m.W({color:"#ffffff"}),n=new m.U(e,t);n.position.set(0,0,0),r.add(n)};function d(){t.clear(),t.render(r,a),requestAnimationFrame(d)}e.current&&(o(),s(),c(),u(),l(),d())},[]),r.a.createElement("div",{ref:e,className:"no-light"})}function E(){var e=Object(i.useRef)(null),t=Object(i.useRef)(null);return Object(i.useEffect)(function(){var n,i,r,a,o,s,c,u=function(){i=e.current.clientWidth,r=e.current.clientHeight,(n=new m.Rb({antialias:!0})).setSize(i,r),e.current.appendChild(n.domElement),n.setClearColor("#ffffff",1)},l=function(){a=new m.xb},d=function(){(o=new m.mb(45,i/r,1,1e4)).position.set(600,0,600),o.up.set(0,1,0),o.lookAt(new m.Nb(0,0,0))},f=function(){c=new function(){this.x=0,this.y=0,this.z=0},t.current=new v.a,t.current.add(c,"x",-1e4,1e4).name("\u73af\u5883\u5149X\u7684\u4f4d\u7f6e"),t.current.add(c,"y",-1e4,1e4).name("\u73af\u5883\u5149Y\u7684\u4f4d\u7f6e"),t.current.add(c,"z",-1e4,1e4).name("\u73af\u5883\u5149Z\u7684\u4f4d\u7f6e"),(s=new m.c("#ffffff")).position.set(c.x,c.y,c.z),a.add(s)},h=function(){var e=new m.h(200,100,50),t=new m.W({color:"#ff0000"}),n=new m.U(e,t);n.position.set(0,0,0),a.add(n)};function p(){n.clear(),s.position.set(c.x,c.y,c.z),n.render(a,o),requestAnimationFrame(p)}return e.current&&(u(),l(),d(),f(),h(),p()),function(){t.current&&t.current.destroy()}},[]),r.a.createElement("div",{ref:e,className:"no-light"})}function j(){var e=Object(i.useRef)(null),t=Object(i.useRef)(null);return Object(i.useEffect)(function(){var n,i,r,a,o,s,c,u=function(){i=e.current.clientWidth,r=e.current.clientHeight,(n=new m.Rb({antialias:!0})).setSize(i,r),e.current.appendChild(n.domElement),n.setClearColor("#ffffff",1)},l=function(){a=new m.xb},d=function(){(o=new m.mb(45,i/r,1,1e4)).position.set(600,200,600),o.up.set(0,1,0),o.lookAt(new m.Nb(0,0,0))},f=function(){c=new function(){this.x=0,this.y=0,this.z=0,this.intensity=1},t.current=new v.a,t.current.add(c,"x",-1e4,1e4).name("\u65b9\u5411\u5149X\u7684\u4f4d\u7f6e"),t.current.add(c,"y",-1e4,1e4).name("\u65b9\u5411\u5149Y\u7684\u4f4d\u7f6e"),t.current.add(c,"z",-1e4,1e4).name("\u65b9\u5411\u5149Z\u7684\u4f4d\u7f6e"),t.current.add(c,"intensity",0,1).name("\u5149\u5f3a"),(s=new m.p("#ffffff",1)).position.set(c.x,c.y,c.z),a.add(s)},h=function(){var e=new m.h(200,100,50),t=new m.W({color:"#ff0000"}),n=new m.U(e,t);n.position.set(0,0,0),a.add(n)};function p(){n.clear(),s.position.set(c.x,c.y,c.z),s.intensity=c.intensity,n.render(a,o),requestAnimationFrame(p)}return e.current&&(u(),l(),d(),f(),h(),p()),function(){t.current.destroy()}},[]),r.a.createElement("div",{ref:e,className:"no-light"})}function M(){var e=Object(i.useRef)(null),t=Object(i.useRef)(null);return Object(i.useEffect)(function(){var n,i,r,a,o,s,c,u=function(){i=e.current.clientWidth,r=e.current.clientHeight,(n=new m.Rb({antialias:!0})).setSize(i,r),e.current.appendChild(n.domElement),n.setClearColor("#ffffff",1)},l=function(){a=new m.xb},d=function(){(o=new m.mb(45,i/r,1,1e4)).position.set(800,200,800),o.up.set(0,1,0),o.lookAt(new m.Nb(0,0,0))},f=function(){c=new function(){this.x=0,this.y=0,this.z=0,this.intensity=1},t.current=new v.a,t.current.add(c,"x",-1e4,1e4).name("\u70b9\u5149\u6e90X\u7684\u4f4d\u7f6e"),t.current.add(c,"y",-1e4,1e4).name("\u70b9\u5149\u6e90Y\u7684\u4f4d\u7f6e"),t.current.add(c,"z",-1e4,1e4).name("\u70b9\u5149\u6e90Z\u7684\u4f4d\u7f6e"),t.current.add(c,"intensity",0,1).name("\u5149\u5f3a"),(s=new m.ob("#ffffff",1,5e3,.5)).position.set(c.x,c.y,c.z),a.add(s)},h=function(){var e=new m.W({color:"#ff0000"}),t=new m.h(200,100,50),n=new m.U(t,e),i=new m.U(t,e),r=new m.U(t,e),o=new m.U(t,e),s=new m.U(t,e),c=new m.U(t,e);n.position.set(0,0,0),i.position.set(-300,0,0),r.position.set(300,0,0),o.position.set(0,-200,0),s.position.set(0,200,0),c.position.set(0,0,100),a.add(n),a.add(i),a.add(r),a.add(o),a.add(s),a.add(c)};function p(){n.clear(),s.position.set(c.x,c.y,c.z),s.intensity=c.intensity,n.render(a,o),requestAnimationFrame(p)}return e.current&&(u(),l(),d(),f(),h(),p()),function(){t.current.destroy()}},[]),r.a.createElement("div",{ref:e,className:"no-light"})}var k=n(104),N=n.n(k),R=(n(178),{1:m.vb,2:m.k,3:m.Y});function L(){var e=Object(i.useRef)(null),t=Object(i.useRef)(null);return Object(i.useEffect)(function(){var n,i,r,a,o,s,c,u=function e(){s&&(s.repeat.x=s.repeat.y=c.repeat,s.wrapS=s.wrapT=R[c.wrap],s.needsUpdate=!0),requestAnimationFrame(e),r.render(a,o)};return n=e.current.clientWidth,i=e.current.clientHeight,(r=new m.Rb({antialias:!0})).setSize(n,i),e.current.appendChild(r.domElement),r.setClearColor("#ffffff",1),a=new m.xb,(o=new m.mb(70,n/i,1,1e3)).position.set(0,0,400),function(){var e=new m.nb(500,300,1,1);(new m.Ib).load(N.a,function(t){(s=t).repeat.x=s.repeat.y=1,s.wrapS=s.wrapT=m.vb;var n=new m.V({map:s}),i=new m.U(e,n);a.add(i)},function(e){console.log("progress: ",e.loaded/e.total*100+"% loaded")},function(e){console.log("error: ",e)})}(),c=new function(){this.repeat=1,this.wrap=1},t.current=new v.a,t.current.add(c,"repeat",-5,5).name("\u7eb9\u7406\u91cd\u590d"),t.current.add(c,"wrap",1,3).name("\u7eb9\u7406\u56de\u73af").step(1),u(),function(){t.current&&t.current.destroy()}},[]),r.a.createElement("div",{ref:e,className:"texture"})}n(179);function O(){var e=Object(i.useRef)(null),t=Object(i.useRef)(null);return Object(i.useEffect)(function(){var n,i,r,a,o,s,c;function u(){var e;e=c.fov,o.fov=e,o.updateProjectionMatrix()}function l(){u(),r.render(a,o),requestAnimationFrame(l)}return e.current&&(n=e.current.clientWidth,i=e.current.clientHeight,(r=new m.Rb({antialias:!0})).setSize(n,i),e.current.appendChild(r.domElement),r.setClearColor("#ffffff",1),a=new m.xb,(o=new m.mb(45,n/i,1,1e4)).position.set(0,0,600),o.up.set(0,1,0),o.lookAt(new m.Nb(0,0,0)),console.log("camera: ",o),(s=new m.p("#ffffff",1,0)).position.set(100,100,200),a.add(s),function(){var e=new m.nb(100,100,2,3),t=new m.V({vertexColors:m.Qb}),n=new m.l("#00ff00"),i=new m.l("#50f4f0"),r=new m.l("#4f0fa0");e.faces.forEach(function(e){e.vertexColors[0]=n,e.vertexColors[1]=i,e.vertexColors[2]=r});var o=new m.U(e,t);a.add(o)}(),function(){var e=new m.x,t=new m.V({vertexColors:m.Qb}),n=new m.l("#00ff00"),i=new m.l("#50f0f0"),r=new m.l("#4f0fa0"),o=new m.Nb(300,0,0),s=new m.Nb(200,100,0),c=new m.Nb(100,0,0);e.vertices.push(o),e.vertices.push(s),e.vertices.push(c);var u=new m.u(0,1,2);u.vertexColors[0]=n,u.vertexColors[1]=i,u.vertexColors[2]=r,e.faces.push(u);var l=new m.U(e,t);a.add(l)}(),c=new function(){this.fov=45},t.current=new v.a,t.current.add(c,"fov",0,180).name("\u89c6\u89d2\u5927\u5c0f"),l()),function(){t.current&&t.current.destroy()}},[]),r.a.createElement("div",{ref:e,className:"learnGeometry"})}var A=n(105);n(180);function W(){var e=Object(i.useRef)(null),t=Object(i.useRef)(null);return Object(i.useEffect)(function(){var n,i,r,a,o,s,c,u;function l(){var e;e=u.fov,o.fov=e,o.updateProjectionMatrix()}function d(){l(),c&&(c.rotation.y=u.rotateY),r.render(a,o),requestAnimationFrame(d)}return e.current&&(!function(){n=e.current.clientWidth,i=e.current.clientHeight;var t=document.createElement("canvas"),a=t.getContext("webgl2");(r=new m.Rb({canvas:t,context:a})).setSize(n,i),e.current.appendChild(r.domElement),r.setClearColor("#ffffff",1)}(),a=new m.xb,(o=new m.mb(45,n/i,.01,1e10)).position.set(0,0,1e3),o.up.set(0,1,0),o.lookAt(new m.Nb(0,0,0)),(s=new m.p("#ffffff",1,0)).position.set(200,200,1e3),a.add(s),(new A.a).load("/ThreeJsLearn/models/matilda/scene.gltf",function(e){c=e.scene,a.add(e.scene),console.log("gltf: ",e)},void 0,function(e){console.log("error: ",e)}),u=new function(){this.fov=45,this.rotateY=0},t.current=new v.a,t.current.add(u,"fov",0,180).name("\u89c6\u89d2\u5927\u5c0f"),t.current.add(u,"rotateY",0,7).name("\u65cb\u8f6c").step(.01),d()),function(){t.current&&t.current.destroy()}},[]),r.a.createElement("div",{ref:e,className:"loader"})}n(181);var P={1:m.w,2:m.f,3:m.q};function S(){var e=Object(i.useRef)(null),t=Object(i.useRef)(null);return Object(i.useEffect)(function(){var n,i,r,a,o,s,c,u;function l(){u.rotation.y=a.rotateY,s.position.set(0,0,a.positionZ),u.material.side=P[a.side],r.render(o,s),requestAnimationFrame(l)}return e.current&&(a=new function(){this.positionZ=100,this.rotateY=0,this.side=1},t.current=new v.a,t.current.add(a,"positionZ",0,500).name("\u955c\u5934\u8ddd\u79bb"),t.current.add(a,"rotateY",0,7).name("\u65cb\u8f6c\u89d2\u5ea6").step(.01),t.current.add(a,"side",1,3).name("\u7269\u4f53\u8868\u9762\u6e32\u67d3\u65b9\u5f0f(\u5916\u8868\u9762, \u5185\u8868\u9762, \u53cc\u9762)").step(1),n=e.current.clientWidth,i=e.current.clientHeight,(r=new m.Rb({antialias:!0})).setSize(n,i),e.current.appendChild(r.domElement),r.setClearColor("#ffffff",1),o=new m.xb,(s=new m.mb(45,n/i,.1,1e4)).position.set(0,0,a.positionZ),s.up.set(0,1,0),s.lookAt(new m.Nb(0,0,0)),(c=new m.p("#ffffff",1,0)).position.set(200,200,1e3),o.add(c),function(){var e=new m.W({color:"#a3e463",side:P[a.side]}),t=new m.h(100,100,100);u=new m.U(t,e),o.add(u)}(),l()),function(){t.current&&t.current.destroy()}},[]),r.a.createElement("div",{ref:e,className:"lambertSideLearn"})}var H=["#f5222d","#a0d911","#fa541c","#722ed1","#fadb14","#fa8c16","#2f54eb","#52c41a","#faad14","#1890ff","#eb2f96","#13c2c2"];function _(e){this.cubeIdx=0,this.dom=e;var t=e.clientWidth,n=e.clientHeight;this.scene=new m.xb,this.camera=new m.lb(t/-80,t/80,n/80,n/-80,.1,5e3),this.camera.position.set(100,100,100),this.cameraPos={current:new m.Nb(0,0,0),next:new m.Nb},this.renderer=new m.Rb({antialias:!0}),this.renderer.setSize(t,n),e.appendChild(this.renderer.domElement),this.canvas=this.renderer.domElement;var i=new m.p(16777215,1.1);i.position.set(3,10,15),this.scene.add(i);var r=new m.c(16777215,.3);this.scene.add(r),this.config={jumpTopRadius:.3,jumpBottomRadius:.5,jumpHeight:2,jumpColor:16776960,cubeX:4,cubeY:2,cubeZ:4,cubeColor:65280,cylinderRadius:2,cylinderHeight:2,cylinderColor:65280,cubeMaxLen:6,cubeMinDis:2.5,cubeMaxDis:4},this.mouse={down:this.isPC()?"mousedown":"touchstart",up:this.isPC()?"mouseup":"touchend"},this.cubes=[],this.jumper=null,this.mouseState=0,this.xspeed=0,this.yspeed=0,this.score=0,this._initScore(),this.failCallback=function(){}}_.prototype.constructor=_,Object.assign(_.prototype,{getCubeSizeIndex:function(){return Math.pow(.8,Math.floor(this.cubeIdx/5))},getDisIndex:function(){return Math.pow(1.2,Math.floor(this.cubeIdx/5))},createCube:function(){this.cubeIdx+=1;var e=Math.random()>.5?"zDir":"xDir",t=Math.random()>.5?"cube":"cylinder",n=this.config.cubeZ*this.getCubeSizeIndex(),i=this.config.cubeX*this.getCubeSizeIndex(),r=this.config.cylinderRadius*this.getCubeSizeIndex(),a="cube"===t?new m.m(i,this.config.cubeY,n):new m.n(r,r,this.config.cylinderHeight,100),o=H[this.cubeIdx%H.length],s=new m.W({color:o}),c=new m.U(a,s);if(this.cubes.length){var u=this.getDisIndex(),l=this.getRandomValue(this.config.cubeMinDis*u,this.config.cubeMaxDis*u),d=this.cubes[this.cubes.length-1];"zDir"===e?"cube"===t?d.geometry instanceof m.m?c.position.set(d.position.x,d.position.y,d.position.z-l-n):c.position.set(d.position.x,d.position.y,d.position.z-l-r-n/2):d.geometry instanceof m.m?c.position.set(d.position.x,d.position.y,d.position.z-l-r-n/2):c.position.set(d.position.x,d.position.y,d.position.z-l-2*r):"cube"===t?d.geometry instanceof m.m?c.position.set(d.position.x+l+i,d.position.y,d.position.z):c.position.set(d.position.x+l+i/2+r,d.position.y,d.position.z):d.geometry instanceof m.m?c.position.set(d.position.x+l+r+i/2,d.position.y,d.position.z):c.position.set(d.position.x+l+2*r,d.position.y,d.position.z)}else c.position.set(0,0,0);this.testPosition(c.position),this.cubes.push(c),this.scene.add(c),this._render(),this.cubes.length>this.config.cubeMaxLen&&this.scene.remove(this.cubes.shift()),this.cubes.length>1?this._updateCameraPos():this.camera.lookAt(this.cameraPos.current)},createJumper:function(){var e=new m.n(this.config.jumpTopRadius,this.config.jumpBottomRadius,this.config.jumpHeight,100),t=new m.W({color:this.config.jumpColor}),n=new m.U(e,t);e.translate(0,this.config.jumpHeight/2,0),n.position.set(0,this.config.jumpHeight/2,0),this.jumper=n,this.scene.add(n),this._render()},_render:function(){this.renderer.render(this.scene,this.camera)},_updateCameraPos:function(){var e=this.cubes[this.cubes.length-2],t=this.cubes[this.cubes.length-1],n={x:(e.position.x+t.position.x)/2,y:0,z:(e.position.z+t.position.z)/2};this.cameraPos.next=new m.Nb(n.x,n.y,n.z),this._updateCamera()},_updateCamera:function(){var e=this,t={x:e.cameraPos.current.x,y:e.cameraPos.current.y,z:e.cameraPos.current.z},n=e.cameraPos.next.x,i=(e.cameraPos.next.y,e.cameraPos.next.z);(t.x<n||t.z>i)&&(t.x<n&&(e.cameraPos.current.x+=.1),t.z>i&&(e.cameraPos.current.z-=.1),Math.abs(e.cameraPos.current.x-e.cameraPos.next.x)<.05&&(e.cameraPos.current.x=e.cameraPos.next.x),Math.abs(e.cameraPos.current.z-e.cameraPos.next.z)<.05&&(e.cameraPos.current.z=e.cameraPos.next.z),e.camera.lookAt(new m.Nb(t.x,0,t.z)),e._render(),requestAnimationFrame(function(){e._updateCamera()}))},_registerEvent:function(){this.canvas.addEventListener(this.mouse.down,this._onMouseDown.bind(this)),this.canvas.addEventListener(this.mouse.up,this._onMouseUp.bind(this)),window.addEventListener("resize",this._onwindowResize.bind(this),!1)},_destoryEvent:function(){this.canvas.removeEventListener(this.mouse.down,this._onMouseDown.bind(this)),this.canvas.removeEventListener(this.mouse.up,this._onMouseUp.bind(this)),window.removeEventListener("resize",this._onwindowResize.bind(this),!1)},_onwindowResize:function(){this.camera.left=this.dom.clientWidth/-80,this.camera.right=this.dom.clientWidth/80,this.camera.top=this.dom.clientWidth/80,this.camera.bottom=this.dom.clientWidth/-80,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.dom.clientWidth,this.dom.clientWidth)},_onMouseDown:function(){this.mouseState=-1,this.jumper.scale.y>.02&&(this.jumper.scale.y-=.01,this.xspeed+=.004,this.yspeed+=.008,this._render(),requestAnimationFrame(function(){-1===this.mouseState&&this._onMouseDown()}.bind(this)))},_onMouseUp:function(){var e=this;if(this.mouseState=1,this.jumper.position.y>=this.config.jumpHeight/2){"x"===this.getDirection()?(this.jumper.position.x+=this.xspeed,this.jumper.position.y+=this.yspeed):(this.jumper.position.z-=this.xspeed,this.jumper.position.y+=this.yspeed),this._render(),this.yspeed-=.01,this.jumper.scale.y<1&&(this.jumper.scale.y+=.02),requestAnimationFrame(function(){this._onMouseUp()}.bind(this))}else{var t=this.getJumpState();console.log("jumpstate:"+t),1===t?(this.xspeed=0,this.yspeed=0,this.jumper.scale.y=1,this.jumper.position.y=this.config.jumpHeight/2):2===t||3===t?(this.score+=1+Math.floor(this.cubeIdx/5),this.xspeed=0,this.yspeed=0,this.jumper.scale.y=1,this.jumper.position.y=this.config.jumpHeight/2,this._updateScore(),this.createCube()):-2===t?(!function t(){e.jumper.position.y>=-e.config.jumpHeight/2&&(e.jumper.position.y-=.06,e._render(),requestAnimationFrame(t))}(),this.failCallback&&setTimeout(function(){e.failCallback(e.score)},1e3)):(this.failingAnimation(t),this.failCallback&&setTimeout(function(){e.failCallback(e.score)},1e3))}},_initScore:function(){var e=document.createElement("div");e.id="score",e.innerHTML="0",this.dom.appendChild(e)},_updateScore:function(){document.getElementById("score").innerHTML=this.score},start:function(){this.createCube(),this.createCube(),this.createJumper(),this._registerEvent(),this._updateScore()},restart:function(){this.cubeIdx=0;for(var e=0,t=this.cubes.length;e<t;e++)this.scene.remove(this.cubes[e]);this.scene.remove(this.jumper),this.cameraPos={current:new m.Nb(0,0,0),next:new m.Nb},this.cubes=[],this.jumper=null,this.mouseState=0,this.xspeed=0,this.yspeed=0,this.score=0,this.createCube(),this.createCube(),this.createJumper(),this._updateScore()},stop:function(){},getRandomValue:function(e,t){return Math.floor(Math.random()*(t-e))+e},failingAnimation:function(e){var t,n,i="z"===this.getDirection()?"x":"z";if(-1===e?(t=this.jumper.rotation[i]-.1,n=this.jumper.rotation[i]>-Math.PI/2):(t=this.jumper.rotation[i]+.1,n=this.jumper.rotation[i]<Math.PI/2),n)this.jumper.rotation[i]=t,this._render(),requestAnimationFrame(function(){this.failingAnimation(e)}.bind(this));else{var r=this;!function e(){r.jumper.position.y>=-r.config.jumpHeight/2&&(r.jumper.position.y-=.06,r._render(),requestAnimationFrame(e))}()}},getJumpState:function(){var e=this.config.jumpBottomRadius,t=this.getd(),n=t.d,i=t.d1,r=t.d2,a=t.d4;return n<=i?1:n>i&&Math.abs(n-i)<=e?-1:Math.abs(n-i)>e&&n<r&&Math.abs(n-r)>=e?-2:n<r&&Math.abs(n-r)<e?-3:n>r&&n<=a?2:n>a&&Math.abs(n-a)<e?-1:-2},getd:function(){var e,t,n,i,r,a=this.cubes[this.cubes.length-2],o=a.position,s=a.geometry instanceof m.m?"cube":"cylinder",c=this.cubes[this.cubes.length-1],u=c.position,l=c.geometry instanceof m.m?"cube":"cylinder",d=this.jumper.position,f=this.config.cubeZ*this.getCubeSizeIndex(),h=this.config.cubeX*this.getCubeSizeIndex(),p=this.config.cylinderRadius*this.getCubeSizeIndex();return"cube"===s?"cube"===l?o.x===u.x?(e=Math.abs(d.z),t=Math.abs(o.z-f/2),n=Math.abs(u.z+f/2),i=Math.abs(u.z),r=Math.abs(u.z-f/2)):(e=Math.abs(d.x),t=Math.abs(o.x+h/2),n=Math.abs(u.x-h/2),i=Math.abs(u.x),r=Math.abs(u.x+h/2)):o.x===u.x?(e=Math.abs(d.z),t=Math.abs(o.z-f/2),n=Math.abs(u.z+p),i=Math.abs(u.z),r=Math.abs(u.z-p)):(e=Math.abs(d.x),t=Math.abs(o.x+h/2),n=Math.abs(u.x-p),i=Math.abs(u.x),r=Math.abs(u.x+p)):"cube"===l?o.x===u.x?(e=Math.abs(d.z),t=Math.abs(o.z-p),n=Math.abs(u.z+f/2),i=Math.abs(u.z),r=Math.abs(u.z-f/2)):(e=Math.abs(d.x),t=Math.abs(o.x+p),n=Math.abs(u.x-h/2),i=Math.abs(u.x),r=Math.abs(u.x+h/2)):o.x===u.x?(e=Math.abs(d.z),t=Math.abs(o.z-p),n=Math.abs(u.z+p),i=Math.abs(u.z),r=Math.abs(u.z-p)):(e=Math.abs(d.x),t=Math.abs(o.x+p),n=Math.abs(u.x-p),i=Math.abs(u.x),r=Math.abs(u.x+p)),{d:e,d1:t,d2:n,d3:i,d4:r}},getDirection:function(){var e;if(this.cubes.length>1){var t=this.cubes[this.cubes.length-2],n=this.cubes[this.cubes.length-1];t.position.z===n.position.z&&(e="x"),t.position.x===n.position.x&&(e="z")}return e},testPosition:function(e){(isNaN(e.x)||isNaN(e.y)||isNaN(e.z))&&console.log("position incorrect\uff01")},isPC:function(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],n=!0,i=0;i<t.length;i++)if(e.indexOf(t[i])>0){n=!1;break}return n}});n(182);function I(){var e=Object(i.useRef)(null),t=Object(i.useRef)(null),n=Object(i.useRef)(null),a=Object(i.useRef)(null),o=Object(i.useRef)(null),s=Object(i.useRef)(null),c=Object(i.useRef)(null);return Object(i.useEffect)(function(){t.current=new _(e.current),n.current.style.display="flex",a.current.style.display="none",t.current.failCallback=function(e){a.current.style.display="flex",c.current.innerHTML=e}},[]),r.a.createElement("div",{ref:e,className:"jump"},r.a.createElement("div",{className:"page startPage",ref:n},r.a.createElement("div",{className:"startBtn button",ref:o,onClick:function(){n.current.style.display="none",t.current.start()}},"\u5f00\u59cb\u6e38\u620f")),r.a.createElement("div",{className:"page restartPage",ref:a},r.a.createElement("p",null,"\u6e38\u620f\u5f97\u5206\uff1a",r.a.createElement("span",{className:"scoreNum",ref:c})," "),r.a.createElement("div",{className:"restartBtn button",onClick:function(){a.current.style.display="none",t.current.restart()},ref:s},"\u91cd\u65b0\u5f00\u59cb")))}n(183);var U=u.a.Sider,F=u.a.Content;var G=function(){return Object(i.useEffect)(function(){!1===l.isWebGL2Available()&&document.body.appendChild(l.getWebGL2ErrorMessage())},[]),r.a.createElement(s.a,null,r.a.createElement(u.a,{className:"layout"},r.a.createElement(U,{className:"sider"},r.a.createElement(h,null)),r.a.createElement(F,{className:"content"},r.a.createElement("div",{className:"App"},r.a.createElement(c.a,{path:"/Cube",exact:!0,component:p}),r.a.createElement(c.a,{path:"/Line",exact:!0,component:b}),r.a.createElement(c.a,{path:"/AxisHelper",exact:!0,component:g}),r.a.createElement(c.a,{path:"/OrthographicCamera",exact:!0,component:y}),r.a.createElement(c.a,{path:"/PerspectiveCamera",exact:!0,component:z}),r.a.createElement(c.a,{path:"/NoLight",exact:!0,component:C}),r.a.createElement(c.a,{path:"/AmbientLight",exact:!0,component:E}),r.a.createElement(c.a,{path:"/DirectionalLight",exact:!0,component:j}),r.a.createElement(c.a,{path:"/PointLight",exact:!0,component:M}),r.a.createElement(c.a,{path:"/Texture",exact:!0,component:L}),r.a.createElement(c.a,{path:"/LearnGeometry",exact:!0,component:O}),r.a.createElement(c.a,{path:"/GTFLoader",exact:!0,component:W}),r.a.createElement(c.a,{path:"/LambertSideLearn",exact:!0,component:S}),r.a.createElement(c.a,{path:"/Jump",exact:!0,component:I})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},49:function(e,t,n){},91:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.aa990af3.chunk.js.map